<!DOCTYPE html>

<html lang="ar" xmlns:th="http://www.thymeleaf.org"> <head>

  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>تسجيل الدخول - HMS</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">

  <style>

    :root {

    /* Neutral & Professional Home Theme Colors (from your other pages) */

    --primary-color: #2c3e50; /* Deep Slate Blue */

    --secondary-color: #3498db; /* Classic Blue */

    --accent-color: #e74c3c; /* Soft Red for alerts/delete */

    --success-color: #27ae60; /* Dark Green for success */

    --text-color: #333;

    --light-text-color: #f8f8f8;

    --background-gradient-start: #e9eff5; /* Very light grey-blue */

    --background-gradient-end: #dce4eb; /* Light grey-blue */

    --card-background: rgba(255, 255, 255, 0.98);

    --border-radius: 12px;

    --box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);

    --transition-speed: 0.3s;

    }



    /* Dark Mode Specific Variables */

    body.dark-mode {

    --primary-color: #7ab2e9;

    --secondary-color: #66d9ef;

    --accent-color: #ff6f69;

    --success-color: #66bb6a;

    --text-color: #e0e0e0;

    --light-text-color: #333;

    --background-gradient-start: #2c3e50;

    --background-gradient-end: #0f1f2e;

    --card-background: rgba(35, 47, 60, 0.95);

    }



    * {

    margin: 0;

    padding: 0;

    box-sizing: border-box;

    }



    body {

    font-family: 'Roboto', sans-serif;

    display: flex;

    justify-content: center;

    align-items: center;

    min-height: 100vh;

    background: linear-gradient(135deg, var(--background-gradient-start), var(--background-gradient-end));

    overflow: hidden;

    position: relative;

    color: var(--text-color);

    transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease;

    }



    /* --- Particle Animation --- */

    .particle {

    position: absolute;

    background: rgba(255, 255, 255, 0.6);

    border-radius: 50%;

    animation: float 18s infinite ease-in-out;

    pointer-events: none;

    box-shadow: 0 0 8px rgba(255, 255, 255, 0.4);

    }



    @keyframes float {

    0% { transform: translateY(0) translateX(0) scale(1); opacity: 0.8; }

    50% { transform: translateY(-25px) translateX(25px) scale(1.05); opacity: 0.5; }

    100% { transform: translateY(0) translateX(0) scale(1); opacity: 0.8; }

    }



    /* Login Container */

    .login-container {

    background: var(--card-background);

    padding: 40px 50px;

    border-radius: var(--border-radius);

    box-shadow: var(--box-shadow);

    text-align: center;

    width: 100%;

    max-width: 450px;

    z-index: 10;

    position: relative;

    overflow: hidden;

    animation: fadeInScale 1s ease-out forwards;

    }



    @keyframes fadeInScale {

    from { opacity: 0; transform: scale(0.9); }

    to { opacity: 1; transform: scale(1); }

    }



    /* Blobs */

    .login-container::before {

    content: '';

    position: absolute;

    top: -60px;

    left: -60px;

    width: 160px;

    height: 160px;

    background: var(--secondary-color);

    border-radius: 50%;

    filter: blur(45px);

    opacity: 0.25;

    animation: blob1 12s infinite alternate;

    z-index: -1;

    }



    .login-container::after {

    content: '';

    position: absolute;

    bottom: -50px;

    right: -50px;

    width: 130px;

    height: 130px;

    background: var(--primary-color);

    border-radius: 50%;

    filter: blur(40px);

    opacity: 0.2;

    animation: blob2 15s infinite alternate;

    z-index: -1;

    }



    @keyframes blob1 {

    0% { transform: translate(0, 0) scale(1); }

    50% { transform: translate(30px, 40px) scale(1.1); }

    100% { transform: translate(0, 0) scale(1); }

    }



    @keyframes blob2 {

    0% { transform: translate(0, 0) scale(1); }

    50% { transform: translate(-40px, -30px) scale(1.05); }

    100% { transform: translate(0, 0) scale(1); }

    }



    .login-container h2 {

    color: var(--primary-color);

    margin-bottom: 30px;

    font-size: 2.8em;

    font-weight: 700;

    letter-spacing: 1px;

    position: relative;

    animation: slideInDown 0.8s ease-out forwards;

    direction: rtl; /* For Arabic title */

    }



    @keyframes slideInDown {

    from { transform: translateY(-20px); opacity: 0; }

    to { transform: translateY(0); opacity: 1; }

    }



    .input-group {

    position: relative;

    margin-bottom: 30px;

    direction: rtl; /* For RTL input text */

    text-align: right; /* For RTL input text */

    }



    .input-group input {

    width: 100%;

    padding: 15px 20px;

    border: 2px solid #ccc;

    border-radius: 10px;

    font-size: 1.1em;

    color: var(--text-color);

    background: #f0f0f0;

    transition: all var(--transition-speed) ease;

    text-align: right; /* Input text aligns right for RTL */

    }



    .input-group input:focus {

    outline: none;

    border-color: var(--primary-color);

    box-shadow: 0 0 0 3px rgba(44, 62, 80, 0.2);

    background: #fff;

    }



    .input-group label {

    position: absolute;

    right: 20px; /* Changed from left to right for RTL */

    top: 50%;

    transform: translateY(-50%);

    color: #888;

    font-size: 1.1em;

    pointer-events: none;

    transition: all var(--transition-speed) ease;

    }



    .input-group input:focus + label,

    .input-group input:not(:placeholder-shown) + label {

    top: -10px;

    right: 10px; /* Changed from left to right for RTL */

    font-size: 0.9em;

    color: var(--primary-color);

    background: var(--card-background);

    padding: 0 5px;

    border-radius: 5px;

    }



    .forgot-password {

    text-align: left; /* Changed from right to left for RTL content (link text is LTR, so align left) */

    margin-top: -15px;

    margin-bottom: 25px;

    direction: rtl; /* For the link container */

    }



    .forgot-password a {

    color: var(--primary-color);

    text-decoration: none;

    font-size: 0.95em;

    transition: color var(--transition-speed) ease;

    }



    .forgot-password a:hover {

    color: var(--accent-color);

    text-decoration: underline;

    }



    .login-btn {

    width: 100%;

    padding: 15px 20px;

    background: linear-gradient(45deg, var(--secondary-color), #5dade2);

    color: var(--light-text-color);

    border: none;

    border-radius: 10px;

    font-size: 1.2em;

    font-weight: 600;

    cursor: pointer;

    transition: all var(--transition-speed) ease;

    position: relative;

    overflow: hidden;

    z-index: 1;

    direction: rtl; /* For Arabic text */

    }



    .login-btn:hover {

    transform: translateY(-3px);

    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);

    background: linear-gradient(45deg, #5dade2, var(--secondary-color));

    }



    .login-btn::before {

    content: '';

    position: absolute;

    top: 50%;

    left: 50%;

    width: 0;

    height: 0;

    background: rgba(255, 255, 255, 0.3);

    border-radius: 50%;

    transform: translate(-50%, -50%);

    transition: width 0.6s ease, height 0.6s ease;

    z-index: -1;

    }



    .login-btn:hover::before {

    width: 300px;

    height: 300px;

    }



    .social-login {

    margin-top: 30px;

    direction: rtl; /* For Arabic text */

    }



    .social-login p {

    color: var(--text-color);

    margin-bottom: 15px;

    font-size: 1em;

    }



    .social-icons {

    display: flex;

    justify-content: center;

    gap: 20px;

    }



    .social-icons a {

    display: inline-flex;

    justify-content: center;

    align-items: center;

    width: 50px;

    height: 50px;

    border-radius: 50%;

    background: #eee;

    color: var(--primary-color);

    font-size: 1.8em;

    text-decoration: none;

    transition: transform 0.3s ease, background 0.3s ease;

    }



    .social-icons a:hover {

    transform: translateY(-5px) scale(1.1);

    background: var(--primary-color);

    color: var(--light-text-color);

    }



    .social-icons a.facebook:hover { background: #3b5998; }

    .social-icons a.google:hover { background: #dd4b39; }

    .social-icons a.linkedin:hover { background: #0077b5; } /* Changed to LinkedIn */





    .signup-link {

    margin-top: 30px;

    color: var(--text-color);

    font-size: 1em;

    direction: rtl; /* For Arabic text */

    }



    .signup-link a {

    color: var(--secondary-color);

    text-decoration: none;

    font-weight: 600;

    transition: color var(--transition-speed) ease;

    }



    .signup-link a:hover {

    color: var(--accent-color);

    text-decoration: underline;

    }



    /* Message Toast for errors from Backend (if you use Thymeleaf for this) */

    .message-toast {

    position: fixed;

    top: 30px;

    left: 50%;

    transform: translateX(-50%);

    padding: 15px 30px;

    border-radius: 8px;

    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);

    opacity: 0;

    visibility: hidden;

    transition: opacity 0.5s ease, visibility 0.5s ease;

    z-index: 1000;

    color: white;

    font-weight: 500;

    font-size: 1em;

    direction: rtl; /* For Arabic text */

    text-align: right;

    }



    .message-toast.show {

    opacity: 1;

    visibility: visible;

    }



    .message-toast.success {

    background-color: var(--success-color);

    }



    .message-toast.error {

    background-color: var(--accent-color);

    }



    /* Dark mode toggle */

    .dark-mode-toggle {

    position: fixed;

    top: 25px;

    right: 25px;

    background: rgba(255, 255, 255, 0.2);

    border: 1px solid rgba(255, 255, 255, 0.3);

    border-radius: 50%;

    width: 45px;

    height: 45px;

    display: flex;

    justify-content: center;

    align-items: center;

    cursor: pointer;

    font-size: 1.5em;

    color: var(--text-color);

    transition: all 0.3s ease;

    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);

    backdrop-filter: blur(5px);

    -webkit-backdrop-filter: blur(5px);

    z-index: 1000;

    }



    .dark-mode-toggle:hover {

    background: rgba(255, 255, 255, 0.4);

    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);

    transform: scale(1.05);

    }



    body.dark-mode .dark-mode-toggle {

    background: rgba(0, 0, 0, 0.3);

    border: 1px solid rgba(0, 0, 0, 0.4);

    color: var(--light-text-color);

    }



    body.dark-mode .dark-mode-toggle:hover {

    background: rgba(0, 0, 0, 0.5);

    }



    .dark-mode-toggle i {

    transition: transform 0.3s ease;

    }



    .dark-mode-toggle.dark-mode-active i.fa-moon {

    display: block;

    }

    .dark-mode-toggle.dark-mode-active i.fa-sun {

    display: none;

    }

    .dark-mode-toggle:not(.dark-mode-active) i.fa-moon {

    display: none;

    }

    .dark-mode-toggle:not(.dark-mode-active) i.fa-sun {

    display: block;

    }



    /* Dark Mode Specific Styles */

    body.dark-mode .login-container h2 {

    color: var(--primary-color);

    }



    body.dark-mode .input-group input {

    background: #3a4b5c;

    border-color: #556b82;

    color: var(--text-color);

    }



    body.dark-mode .input-group input:focus {

    border-color: var(--primary-color);

    box-shadow: 0 0 0 3px rgba(122, 178, 233, 0.2);

    background: #405060;

    }



    body.dark-mode .input-group label {

    color: #a0a0a0;

    }



    body.dark-mode .input-group input:focus + label,

    body.dark-mode .input-group input:not(:placeholder-shown) + label {

    background: var(--card-background);

    color: var(--primary-color);

    }



    body.dark-mode .forgot-password a,

    body.dark-mode .signup-link a {

    color: var(--secondary-color);

    }



    body.dark-mode .login-btn {

    background: linear-gradient(45deg, var(--secondary-color), #4092d0);

    }



    body.dark-mode .login-btn:hover {

    background: linear-gradient(45deg, #4092d0, var(--secondary-color));

    }



    body.dark-mode .social-icons a {

    background: #4a5b6c;

    color: var(--primary-color);

    }

    body.dark-mode .social-icons a:hover {

    background: var(--primary-color);

    color: var(--light-text-color);

    }

  </style>

</head>

<body>

<button class="dark-mode-toggle" id="darkModeToggle">

  <i class="fas fa-sun"></i>

  <i class="fas fa-moon" style="display: none;"></i>

</button>



<div id="particles-container"></div>



<div class="login-container">

  <h2>أهلاً بك!</h2>

  <form id="loginForm" th:action="@{/login}" method="post">

    <div class="input-group">

      <input type="text" id="username" name="username" placeholder=" " required>

      <label for="username">اسم المستخدم</label>

    </div>

    <div class="input-group">

      <input type="password" id="password" name="password" placeholder=" " required>

      <label for="password">كلمة المرور</label>

    </div>

    <button type="submit" class="login-btn">تسجيل الدخول</button>

  </form>

</div>


<script>
  document.addEventListener('DOMContentLoaded', () => {
      const particlesContainer = document.getElementById('particles-container');
      const darkModeToggle = document.getElementById('darkModeToggle');

      // --- Particle Generation ---
      function createParticle() {
          const particle = document.createElement('div');
          particle.classList.add('particle');
          particlesContainer.appendChild(particle);

          const size = Math.random() * 10 + 5;
          particle.style.width = `${size}px`;
          particle.style.height = `${size}px`;
          particle.style.left = `${Math.random() * 100}%`;
          particle.style.top = `${Math.random() * 100}%`;
          particle.style.animationDelay = `${Math.random() * -10}s`;
          particle.style.animationDuration = `${Math.random() * 10 + 10}s`;

          particle.addEventListener('animationend', () => {
              particle.remove();
          });
      }

      for (let i = 0; i < 15; i++) {
          createParticle();
      }
      setInterval(createParticle, 600);

      // --- Dark Mode Toggle ---
      function setDarkMode(isDarkMode) {
          if (isDarkMode) {
              document.body.classList.add('dark-mode');
              darkModeToggle.classList.add('dark-mode-active');
              localStorage.setItem('darkMode', 'enabled');
          } else {
              document.body.classList.remove('dark-mode');
              darkModeToggle.classList.remove('dark-mode-active');
              localStorage.setItem('darkMode', 'disabled');
          }
      }

      darkModeToggle.addEventListener('click', () => {
          const isCurrentlyDarkMode = document.body.classList.contains('dark-mode');
          setDarkMode(!isCurrentlyDarkMode);
      });

      // التحقق من الوضع الداكن المحفوظ عند تحميل الصفحة
      if (localStorage.getItem('darkMode') === 'enabled') {
          setDarkMode(true);
      } else {
          setDarkMode(false);
      }

      // إخفاء رسائل الخطأ/النجاح من Spring Security بعد بضع ثوانٍ
      // هذا الجزء من JS لا يعالج التحقق، بل فقط إخفاء الرسائل المعروضة من Backend بعد فترة.
      document.querySelectorAll('.message-toast.show').forEach(toast => {
          setTimeout(() => {
              toast.classList.remove('show');
          }, 3500); // إخفاء الرسالة بعد 3.5 ثوانٍ
      });
  });
</script>